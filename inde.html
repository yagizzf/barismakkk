
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barışma Oyunu</title>
<style>
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #ffe6f0;
        font-family: 'Comic Sans MS', cursive, sans-serif;
        text-align: center;
        overflow: hidden;
        transition: background 5s ease;
    }
    #message { font-size: 28px; margin-bottom: 20px; color: #d63384; }
    button {
        font-size: 22px; padding: 12px 25px; margin: 10px;
        cursor: pointer; border-radius: 10px; border: none;
        background-color: #ff85c1; color: white; transition: all 0.3s;
        position: relative;
    }
    button:hover { transform: scale(1.05); }
    #bear {
        font-size: 50px; margin-bottom: 20px; position: relative;
    }
    .jump { animation: jump 0.5s ease infinite alternate; }
    @keyframes jump { 0% { transform: translateY(0); } 100% { transform: translateY(-30px); } }
    #confetti { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; }
    #poem { font-size: 24px; color: #d63384; margin-top: 20px; display: none; font-weight: bold; line-height: 1.5; }
</style>
</head>
<body>
<div id="message">Barışalım mı Asyamm?</div>
<div id="bear">🐻</div>
<button id="no">Hayır</button>
<button id="yes">Evet</button>
<div id="poem"></div>
<canvas id="confetti"></canvas>

<script>
const noBtn = document.getElementById('no');
const yesBtn = document.getElementById('yes');
const message = document.getElementById('message');
const poemDiv = document.getElementById('poem');
const bear = document.getElementById('bear');
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let yesClickCount = 0;
const maxYesClicks = 3;

// Hayır butonu kaçıyor
noBtn.addEventListener('mouseover', () => {
    noBtn.style.left = Math.random() * (window.innerWidth - noBtn.offsetWidth) + "px";
    noBtn.style.top = Math.random() * (window.innerHeight - noBtn.offsetHeight) + "px";
    noBtn.style.position = "absolute";
});

// Evet butonu
yesBtn.addEventListener('click', () => {
    yesClickCount++;
    if (yesClickCount >= maxYesClicks) {
        message.textContent = "Evet! Seni çok seviyorum ve asla üzmeyeceğim!";
        bear.classList.add("jump"); // Ayıcık zıplıyor ama sabit
        startConfetti();
        yesBtn.disabled = true;
        animatePoem();
    }
});

// Konfeti ve kalpler
let particles = [];
function startConfetti() {
    for (let i = 0; i < 150; i++) {
        particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            r: Math.random() * 6 + 4,
            d: Math.random() * 10 + 2,
            color: `hsl(${Math.random()*360}, 100%, 50%)`,
            tilt: Math.random() * 10 - 10,
            type: Math.random() < 0.3 ? "❤️" : "⭐"
        });
    }
    requestAnimationFrame(drawParticles);
}

function drawParticles() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p => {
        ctx.font = "20px Arial";
        ctx.fillText(p.type, p.x, p.y);
        p.y += p.d;
        p.x += Math.sin(p.tilt);
        if(p.y > canvas.height) {
            p.y = -10;
            p.x = Math.random()*canvas.width;
        }
    });
    requestAnimationFrame(drawParticles);
}

// Şiir satır satır yazılıyor
const poemText = [
    "Asya, gözlerin yıldız gibi parlak,",
    "Gülüşün baharı getirir her karanlık anıma.",
    "Kalbim sana ait, her nefeste sen varsın,",
    "Ellerim ellerinde huzur bulur, sevgilim.",
    "Seninle geçen her an bir şiir gibi,",
    "Her satırı kalbimden sana dökülür.",
    "Seni sevmek tarifsiz bir mutluluk,",
    "Ve söz veriyorum, seni bir daha asla üzmeyeceğim yavrummmm."
];

function animatePoem(i=0){
    if(i<poemText.length){
        const line = document.createElement("div");
        line.textContent = poemText[i];
        poemDiv.appendChild(line);
        poemDiv.style.display = "block";
        setTimeout(()=>animatePoem(i+1), 700);
    }
}

// Arka plan renk geçişi
let hue = 330;
setInterval(() => {
    hue += 0.5;
    document.body.style.background = `hsl(${hue}, 100%, 95%)`;
}, 100);

</script>
</body>
</html>
